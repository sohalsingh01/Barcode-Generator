<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Ultra-Premium EAN-14 Barcode Generator</title>

    <!-- <link rel="stylesheet" href="style.css"> -->
    <style>
      /* ========== GLOBAL SETTINGS ========== */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Poppins", sans-serif;
      }
      body {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: env(safe-area-inset-top)
                 env(safe-area-inset-right)
                 env(safe-area-inset-bottom)
                 env(safe-area-inset-left);

        background: linear-gradient(135deg, #5e964c, #16266a, #e7541b);
        color: #fff;
        padding: 20px 10px;
      }
      /* ========== HEADER ========== */
      .heading {
        width: 50%;
        max-width: 300px;
        text-align: center;
        padding: 25px 0;
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(25px);
        border-radius: 25px;
        box-shadow: 0 8px 50px rgba(0, 0, 0, 0.6);
        margin-bottom: 30px;
        animation: fadeInSlide 1s ease forwards;
      }
      .heading h1 {
        font-size: 1.8rem;
        font-weight: 700;
        background: linear-gradient(270deg, #ff00cc, #3333ff, #00ffff, #ff00cc);
        /* background-size: 600% 600%; */
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        text-shadow: 0 0 15px rgba(255, 0, 255, 0.5),
          0 0 25px rgba(0, 255, 255, 0.3);
        letter-spacing: 1.5px;
        animation: gradientShift 6s ease infinite,
          glowPulse 2s infinite alternate;
      }

      /* ========== MAIN CONTAINER ========== */
      .container {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(25px);
        padding: 30px 25px;
        border-radius: 25px;
        box-shadow: 0 15px 50px rgba(0, 0, 0, 0.5);
        text-align: center;
        width: 20%;
        max-width: 380px;
        animation: fadeIn 1s ease forwards;
      }
      h2 {
        margin-bottom: 20px;
        font-size: 1.6rem;
        letter-spacing: 1px;
        animation: slideIn 0.8s ease forwards;
      }

      /* ========== INPUT ========== */
      input[type="text"] {
        width: 80%;
        padding: 12px 15px;
        border-radius: 15px;
        border: none;
        margin-bottom: 20px;
        font-size: 14px;
        outline: none;
        background: rgba(255, 255, 255, 0.05);
        color: #fff;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        transition: all 0.3s ease;
      }
      input[type="text"]::placeholder {
        color: #ddd;
      }
      input[type="text"]:focus {
        box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
        backdrop-filter: blur(25px);
      }

      /* ========== BUTTON ========== */
      button {
        position: relative;
        padding: 12px 25px;
        font-size: 12px;
        width: 80%;
        border: none;
        border-radius: 18px;
        cursor: pointer;
        font-weight: bold;
        background: linear-gradient(135deg, #ff00cc, #3333ff);
        color: #fff;
        overflow: hidden;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
        box-shadow: 0 8px 25px rgba(255, 0, 255, 0.5);
      }
      button:hover {
        transform: translateY(-3px) scale(1.03);
        box-shadow: 0 15px 50px rgba(255, 0, 255, 0.7);
      }
      button.loading::after {
        content: "";
        position: absolute;
        width: 20px;
        height: 20px;
        border: 3px solid #fff;
        border-top: 3px solid transparent;
        border-radius: 50%;
        top: 50%;
        left: 50%;
        margin: -10px 0 0 -10px;
        animation: spin 1s linear infinite;
      }

      /* ========== ERROR ========== */
      .error {
        color: #ff4d4d;
        margin: 8px 0;
        min-height: 18px;
        font-size: 13px;
        font-weight: 500;
        text-shadow: 0 0 5px rgba(255, 0, 0, 0.5);
      }

      /* ========== BARCODE SVG ========== */
      svg {
        margin-top: 20px;
        max-width: 100%;
        height: 100px;
        transition: all 0.5s ease;
        opacity: 1;
      }
      svg rect:hover {
        fill: #ff00cc !important;
        filter: drop-shadow(0 0 15px #ff00cc);
        transition: all 0.2s ease;
      }

      /* ===============================
   TABLET (≥ 768px)
================================ */
      @media (min-width: 768px) {
        .container {
          max-width: 480px;
          padding: 30px;
        }

        .container button {
          font-size: 16px;
        }
      }

      /* ===============================
   DESKTOP (≥ 1024px)
================================ */
      @media (min-width: 1024px) {
        .container {
          max-width: 520px;
        }

        .container:hover {
          transform: translateY(-6px);
          box-shadow: 0 30px 60px rgba(0, 0, 0, 0.55);
        }

        .container button:hover {
          transform: translateY(-3px);
        }
      }

      /* ========== ANIMATIONS ========== */
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      @keyframes slideIn {
        from {
          transform: translateY(-15px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }
      @keyframes fadeInSlide {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes gradientShift {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }
      @keyframes glowPulse {
        0% {
          text-shadow: 0 0 10px rgba(255, 0, 255, 0.3),
            0 0 20px rgba(255, 0, 255, 0.2);
        }
        50% {
          text-shadow: 0 0 20px rgba(255, 0, 255, 0.5),
            0 0 40px rgba(255, 0, 255, 0.3);
        }
        100% {
          text-shadow: 0 0 10px rgba(255, 0, 255, 0.3),
            0 0 20px rgba(255, 0, 255, 0.2);
        }
      }

      /* ========== RESPONSIVE ========== */
      @media (max-width: 768px) {
        .heading {
          max-width: 320px;
        }
        .heading h1 {
          font-size: 1.4rem;
        }
        .container {
          padding: 20px 25px;
        }
        h2 {
          font-size: 1.4rem;
        }
        input[type="text"],
        button {
          font-size: 13px;
          padding: 10px 15px;
        }
      }
      @media (max-width: 480px) {
        .heading {
          max-width: 280px;
        }
        .heading h1 {
          font-size: 1.2rem;
        }
        .container {
          padding: 15px 20px;
        }
        h2 {
          font-size: 1.2rem;
        }
        input[type="text"],
        button {
          font-size: 12px;
          padding: 8px 12px;
        }
      }
    </style>
  </head>
  <body>
    <div class="heading">
      <h1>Made By Sohal</h1>
    </div>

    <div class="container">
      <h2>EAN-14 (ITF-14) Generator</h2>
      <input type="text" id="ean14" placeholder="Enter 13 or 14 digits" />
      <button id="generateBtn" onclick="generateEAN14()">
        Generate Barcode
      </button>
      <div id="error" class="error"></div>
      <svg id="barcode"></svg>
    </div>

    <script>
      const ITF = {
        0: "00110",
        1: "10001",
        2: "01001",
        3: "11000",
        4: "00101",
        5: "10100",
        6: "01100",
        7: "00011",
        8: "10010",
        9: "01010",
      };

      function calculateCheckDigit(code) {
        let sum = 0;
        for (let i = 0; i < code.length; i++) {
          sum += parseInt(code[i]) * (i % 2 === 0 ? 3 : 1);
        }
        return (10 - (sum % 10)) % 10;
      }

      function generateEAN14() {
        const input = document.getElementById("ean14").value.trim();
        const error = document.getElementById("error");
        const svg = document.getElementById("barcode");
        const btn = document.getElementById("generateBtn");

        error.textContent = "";
        svg.innerHTML = "";
        svg.style.background = "transparent";

        if (!/^\d{13,14}$/.test(input)) {
          error.textContent = "Enter only 13 or 14 digits";
          return;
        }
        let code = input;
        if (code.length === 13) {
          code += calculateCheckDigit(code);
        }
        if (code.length % 2 !== 0) {
          error.textContent = "EAN-14 must be even digits";
          return;
        }

        let pattern = "1010";
        for (let i = 0; i < code.length; i += 2) {
          const a = ITF[code[i]];
          const b = ITF[code[i + 1]];
          for (let j = 0; j < 5; j++) {
            pattern += a[j] === "1" ? "11" : "1";
            pattern += b[j] === "1" ? "00" : "0";
          }
        }
        pattern += "1101";

        drawBarcode(pattern, code);
      }

      function drawBarcode(pattern, code) {
        const barWidth = 2;
        const height = 80;
        let x = 0;
        const svg = document.getElementById("barcode");
        svg.innerHTML = "";
        svg.style.background = "#fff";
        svg.style.borderRadius = "12px";
        svg.style.padding = "8px";
        svg.style.display = "inline-block";
        svg.setAttribute("width", pattern.length * barWidth + 16);
        svg.setAttribute("height", height + 35);

        for (let bit of pattern) {
          if (bit === "1") {
            const rect = document.createElementNS(
              "http://www.w3.org/2000/svg",
              "rect"
            );
            rect.setAttribute("x", x);
            rect.setAttribute("y", 0);
            rect.setAttribute("width", barWidth);
            rect.setAttribute("height", height);
            rect.setAttribute("fill", "black");
            svg.appendChild(rect);
          }
          x += barWidth;
        }

        const text = document.createElementNS(
          "http://www.w3.org/2000/svg",
          "text"
        );
        text.setAttribute("x", (pattern.length * barWidth) / 2);
        text.setAttribute("y", height + 25);
        text.setAttribute("text-anchor", "middle");
        text.setAttribute("font-size", "16");
        text.setAttribute("font-weight", "bold");
        text.setAttribute("fill", "#000");
        text.textContent = code;
        svg.appendChild(text);
      }
    </script>
  </body>
</html>
